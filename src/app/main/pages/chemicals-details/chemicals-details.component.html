<div *ngIf="!!chemical" class="container">

    <p class="text-4xl font-black text-center mt-2">{{chemical.chemical | uppercase}}</p>

    <!-- Sección Peligros y EPP -->

    <section class="container grid grid-cols-2 justify-items-center mx-7">
        <div class="col-span-1">
            <p class="text-center font-semibold text-xl mb-1">Peligros</p>
            <div class="container flex justify-center">
                <mat-card
                          *ngFor="let hazard of chemical.hazards"
                          matTooltip="{{hazard.description}}"
                          matTooltipClass="text-sm bg-primary-800 bg-opacity-90"
                          class="w-24 flex-initial mx-2 mt-1 mb-3 grid grid-cols-1 justify-items-center p-0">

                    <img mat-card-image
                         src="{{ baseUrl + hazard.pictogram }}"
                         alt="{{hazard.hazard}}"
                         class="mt-1">
                    <mat-card-title-group>
                        <mat-card-title class="text-center text-xs">{{hazard.hazard}}</mat-card-title>
                        <mat-card-subtitle class="text-center text-xs">{{hazard.code}}</mat-card-subtitle>
                    </mat-card-title-group>
                </mat-card>
            </div>
        </div>

        <div class="col-span-1">
            <p class="text-center font-semibold text-xl mb-0">EPP</p>
            <div class="container flex justify-center">
                <mat-card *ngFor="let ppe of chemical.ppes"
                          class="w-24 flex-initial mx-2 mt-1 mb-3 grid grid-cols-1 justify-items-center">
                    <img mat-card-image
                         src="{{ baseUrl + ppe.img }}"
                         alt="{{ppe.ppe}}"
                         class="mt-1">
                    <mat-card-title class="text-center text-xs">{{ppe.ppe}}</mat-card-title>
                </mat-card>
            </div>
        </div>

    </section>

    <!-- Sección Información de los peligros -->

    <section class="mx-7 mt-7">

        <p class="font-black text-lg">Indicación de Peligro</p>

        <p class="ml-3" *ngFor="let h_phrase of chemical.h_phrases">
            <span class="font-semibold">{{ h_phrase.code }}: </span>
            <span class="">{{ h_phrase.description }}</span>
        </p>


        <p class="font-black text-lg">Frase de Prudencia</p>

        <p class="ml-3" *ngFor="let p_phrase of chemical.p_phrases">
            <span class="font-semibold">{{ p_phrase.code }}: </span>
            <span>{{ p_phrase.description }}</span>
        </p>


        <p class="font-black text-lg">Fabricantes</p>
        <mat-chip-list class="">
            <mat-chip color="primary" selected class="ml-3 mb-4 text-xs"
                      *ngFor="let manufacturer of chemical.manufacturers">
                <span>{{ manufacturer | uppercase }}</span>
            </mat-chip>
        </mat-chip-list>

        <p class="font-black text-lg">Proveedores</p>
        <mat-chip-list class="">
            <mat-chip color="primary" selected class="ml-3 mb-4 text-xs" *ngFor="let provider of chemical.providers">
                <span>{{ provider | uppercase }}</span>
            </mat-chip>
        </mat-chip-list>

        <p class="font-black text-lg">Áreas</p>
        <mat-chip-list class="">
            <mat-chip color="primary" selected class="ml-3 mb-4 text-xs">Contenido</mat-chip>
        </mat-chip-list>

        <p class="font-black text-lg">Ficha de Seguridad</p>
        <p *ngFor="let sds; let index=index of chemical.sds" class="ml-3">
            <a href="{{sds}}" target="_blank" class="text-primary-500">
                Ver FDS {{index + 1}}
            </a>
        </p>

        <p class="font-black text-lg">Estado de la Sustancia Química</p>
        <p class="ml-3">
            {{chemical.status ? 'Activo' : 'Inactivo'}}
        </p>

    </section>

    <!-- Sección de Aprobación -->

    <section class="mx-7 mt-7">
        <div class="grid grid-cols-3 border-t border-b border-solid border-primary-500">
            <div *ngFor="let item of [chemical.fsms, chemical.ems, chemical.ohsms] let i = index"
                 class="col-span-1 text-center">
                <div class="font-black text-lg">Aprobación {{managementSystems[i]}}</div>
                <div><span class="font-semibold">Estado de aprobación: </span>
                    {{item?.approval ? 'Aprobado' : 'No Aprobado'}}
                </div>

                <div *ngIf="item?.approval">
                    <span class="font-semibold">Apropabo por: </span>{{item?.approbed_by | user}}
                </div>

                <div *ngIf="item?.approval">
                    <span class="font-semibold">Fecha de aprobación: </span>{{item?.approval_date | date}}
                </div>
            </div>
        </div>
    </section>

    <footer class="mx-7 mt-7 grid grid-cols-2">

        <button mat-button color="primary" class="col-span-1" (click)="back()">Regresar</button>

        <p class="col-span-1 text-center self-center m-0">
            <span class="font-black">
                Actualizado por: </span> {{chemical.last_update_by!.username || null}}
        </p>


    </footer>


</div>